<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AuraQuant ♾️ Quantum-Infinity Trading God-System</title>
    
    <!-- Meta Tags for SEO -->
    <meta name="description" content="Divine Trading Platform with Zero-Loss Guarantee - Wayne's Quantum-Infinity Profit God">
    <meta name="keywords" content="trading, quantum, infinity, profit, zero loss, divine">
    <meta name="author" content="Wayne Roberts - Divine Creator">
    
    <!-- Preload Critical Resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&family=Rajdhani:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- External Libraries -->
    <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <style>
/* === DIVINE STYLING SYSTEM === */
:root {
    --bg-divine: radial-gradient(ellipse at center, #0a0018 0%, #000000 100%);
    --bg-primary: #0a0a12;
    --bg-secondary: #12121c;
    --bg-tertiary: #1a1a2e;
    --bg-card: #16161f;
    --bg-hover: #1f1f2e;
    
    --text-primary: #ffffff;
    --text-secondary: #a0a0b8;
    --text-muted: #6b6b7e;
    
    /* Divine Quantum Colors */
    --quantum-purple: #a855f7;
    --quantum-blue: #00d4ff;
    --quantum-green: #00ff41;
    --quantum-red: #ff3838;
    --quantum-gold: #ffd700;
    --quantum-orange: #ff9500;
    
    /* Tesla 3-6-9 Resonance Colors */
    --tesla-3: #e0aaff;
    --tesla-6: #9d4edd;
    --tesla-9: #5a189a;
    
    --border-color: #2a2a3e;
    --border-light: #3a3a4e;
    
    /* Divine Gradients */
    --gradient-divine: linear-gradient(135deg, #a855f7, #8b5cf6, #c084fc);
    --gradient-profit: linear-gradient(135deg, #00ff41, #00d4ff, #ffd700);
    --gradient-danger: linear-gradient(135deg, #ff3838, #ff6b6b);
    
    /* Quantum Shadows */
    --shadow-divine: 0 0 30px rgba(168, 85, 247, 0.4);
    --shadow-profit: 0 0 20px rgba(0, 255, 65, 0.3);
    --shadow-glow: 0 8px 32px rgba(0, 0, 0, 0.8);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    background: var(--bg-divine);
    color: var(--text-primary);
    overflow: hidden;
    height: 100vh;
    position: relative;
}

/* === DIVINE AUTHENTICATION === */
.auth-modal {
    display: flex;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.98);
    z-index: 100000;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(20px);
}

.auth-modal.hidden {
    display: none;
}

.auth-content {
    background: linear-gradient(135deg, rgba(26, 26, 46, 0.9), rgba(16, 16, 31, 0.95));
    padding: 50px 40px;
    border-radius: 20px;
    border: 2px solid var(--quantum-purple);
    box-shadow: var(--shadow-divine);
    text-align: center;
    max-width: 450px;
    width: 90%;
    backdrop-filter: blur(15px);
}

.auth-logo {
    margin-bottom: 30px;
    font-size: 48px;
}

.auth-title {
    font-family: 'Rajdhani', sans-serif;
    font-size: 28px;
    font-weight: 700;
    background: var(--gradient-divine);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 10px;
}

.auth-subtitle {
    color: var(--text-secondary);
    margin-bottom: 30px;
    font-size: 14px;
}

.divine-input {
    width: 100%;
    padding: 15px;
    margin: 15px 0;
    background: rgba(26, 26, 46, 0.8);
    border: 2px solid transparent;
    border-radius: 10px;
    color: var(--text-primary);
    font-size: 16px;
    transition: all 0.3s ease;
    outline: none;
}

.divine-input:focus {
    border-color: var(--quantum-purple);
    box-shadow: 0 0 20px rgba(168, 85, 247, 0.3);
}

.divine-button {
    width: 100%;
    padding: 15px;
    background: var(--gradient-divine);
    border: none;
    border-radius: 10px;
    color: white;
    font-size: 16px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 10px;
}

.divine-button:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-divine);
}

.auth-warning {
    margin-top: 20px;
    color: var(--quantum-gold);
    font-size: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

/* === DIVINE NAVIGATION === */
.navbar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 70px;
    background: linear-gradient(180deg, rgba(18, 18, 28, 0.95) 0%, rgba(12, 12, 20, 0.98) 100%);
    border-bottom: 2px solid var(--border-color);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 25px;
    z-index: 1000;
    backdrop-filter: blur(15px);
    box-shadow: var(--shadow-glow);
}

.nav-brand {
    display: flex;
    align-items: center;
    gap: 25px;
    min-width: 400px;
}

.sidebar-toggle {
    background: none;
    border: none;
    color: var(--text-primary);
    font-size: 24px;
    cursor: pointer;
    padding: 10px;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.sidebar-toggle:hover {
    background: var(--bg-tertiary);
    transform: scale(1.1);
}

.brand-logo {
    display: flex;
    align-items: center;
    gap: 12px;
}

.brand-name {
    font-family: 'Rajdhani', sans-serif;
    font-size: 24px;
    font-weight: 900;
    background: var(--gradient-divine);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    letter-spacing: -0.5px;
}

.quantum-logo {
    animation: quantumPulse 3s infinite;
}

@keyframes quantumPulse {
    0%, 100% { transform: scale(1) rotate(0deg); }
    25% { transform: scale(1.05) rotate(90deg); }
    50% { transform: scale(1.1) rotate(180deg); }
    75% { transform: scale(1.05) rotate(270deg); }
}

.divine-status {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 10px 20px;
    background: linear-gradient(135deg, rgba(26, 26, 46, 0.9), rgba(16, 16, 31, 0.8));
    border-radius: 12px;
    border: 1px solid var(--border-color);
}

.status-indicator {
    font-size: 12px;
    animation: divineGlow 2s infinite;
}

.status-indicator.live {
    color: var(--quantum-green);
}

@keyframes divineGlow {
    0%, 100% { opacity: 1; text-shadow: 0 0 10px currentColor; }
    50% { opacity: 0.6; text-shadow: 0 0 20px currentColor; }
}

.mode-selector {
    background: var(--bg-card);
    border: 1px solid var(--border-color);
    color: var(--text-primary);
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
}

.trading-mode {
    font-size: 11px;
    color: var(--quantum-green);
    font-weight: 700;
    text-transform: uppercase;
    text-shadow: 0 0 10px currentColor;
}

.nav-tabs {
    display: flex;
    gap: 3px;
    flex: 1;
    justify-content: center;
    max-width: 1200px;
    overflow-x: auto;
    scrollbar-width: none;
    padding: 0 20px;
}

.nav-tabs::-webkit-scrollbar {
    display: none;
}

.nav-tab {
    background: rgba(26, 26, 46, 0.6);
    border: 1px solid transparent;
    color: var(--text-secondary);
    padding: 12px 18px;
    cursor: pointer;
    font-size: 13px;
    font-weight: 600;
    border-radius: 10px;
    transition: all 0.3s ease;
    white-space: nowrap;
    display: flex;
    align-items: center;
    gap: 8px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.tab-icon {
    font-size: 16px;
}

.nav-tab:hover {
    background: var(--bg-tertiary);
    color: var(--text-primary);
    transform: translateY(-2px);
    border-color: var(--border-light);
}

.nav-tab.active {
    background: linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(139, 92, 246, 0.3));
    color: var(--quantum-purple);
    box-shadow: 0 0 20px rgba(168, 85, 247, 0.3);
    border: 1px solid rgba(168, 85, 247, 0.4);
    transform: translateY(-1px);
}

.nav-actions {
    display: flex;
    align-items: center;
    gap: 25px;
}

.time-display {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    font-size: 11px;
    font-family: 'Rajdhani', sans-serif;
}

.time-zone {
    color: var(--text-secondary);
    font-weight: 600;
}

.drawdown-display {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 15px;
    background: linear-gradient(135deg, rgba(26, 26, 46, 0.8), rgba(16, 16, 31, 0.9));
    border-radius: 8px;
    border: 1px solid var(--border-color);
}

.dd-label {
    font-size: 11px;
    color: var(--text-secondary);
    font-weight: 600;
}

.dd-value {
    font-weight: 700;
    font-size: 14px;
    font-family: 'Rajdhani', sans-serif;
}

.dd-value.safe {
    color: var(--quantum-green);
    text-shadow: 0 0 10px currentColor;
}

.dd-value.warning {
    color: var(--quantum-gold);
    text-shadow: 0 0 10px currentColor;
}

.dd-value.danger {
    color: var(--quantum-red);
    text-shadow: 0 0 10px currentColor;
}

.dd-max {
    font-size: 11px;
    color: var(--text-muted);
}

.btn-emergency {
    background: var(--gradient-danger);
    border: none;
    color: white;
    padding: 12px 24px;
    border-radius: 10px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: var(--shadow-glow);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.btn-emergency:hover {
    transform: scale(1.05);
    box-shadow: 0 0 30px rgba(255, 56, 56, 0.5);
}

/* === DIVINE FLOATING PANELS === */
.floating-rsi {
    position: fixed;
    bottom: 25px;
    right: 25px;
    background: linear-gradient(135deg, rgba(26, 26, 46, 0.95), rgba(16, 16, 31, 0.98));
    border: 2px solid var(--border-color);
    border-radius: 15px;
    padding: 20px;
    z-index: 900;
    box-shadow: var(--shadow-glow);
    min-width: 160px;
    backdrop-filter: blur(15px);
}

.rsi-header {
    font-size: 12px;
    color: var(--text-secondary);
    margin-bottom: 10px;
    font-weight: 700;
    text-align: center;
    font-family: 'Rajdhani', sans-serif;
}

.rsi-value {
    font-size: 36px;
    font-weight: 700;
    text-align: center;
    margin-bottom: 12px;
    font-family: 'Rajdhani', sans-serif;
    text-shadow: 0 0 20px currentColor;
}

.rsi-gauge {
    height: 10px;
    background: var(--bg-secondary);
    border-radius: 5px;
    overflow: hidden;
    margin-bottom: 10px;
}

.rsi-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--quantum-red), var(--quantum-gold), var(--quantum-green));
    transition: width 0.3s;
    border-radius: 5px;
}

.rsi-zones {
    display: flex;
    justify-content: space-between;
    font-size: 10px;
    color: var(--text-muted);
    font-weight: 600;
}

/* === MAIN CONTAINER === */
.main-container {
    display: flex;
    margin-top: 70px;
    height: calc(100vh - 70px);
}

/* === DIVINE AI SIDEBAR === */
.ai-sidebar {
    width: 420px;
    background: linear-gradient(180deg, rgba(18, 18, 28, 0.98) 0%, rgba(12, 12, 20, 0.95) 100%);
    border-right: 2px solid var(--border-color);
    display: flex;
    flex-direction: column;
    transition: margin-left 0.3s;
    overflow: hidden;
    box-shadow: var(--shadow-glow);
}

.ai-sidebar.collapsed {
    margin-left: -420px;
}

.ai-header {
    padding: 25px;
    border-bottom: 2px solid var(--border-color);
    background: linear-gradient(135deg, rgba(26, 26, 46, 0.9), rgba(16, 16, 31, 0.8));
}

.ai-header h3 {
    font-family: 'Rajdhani', sans-serif;
    font-size: 18px;
    font-weight: 700;
    margin-bottom: 18px;
    background: var(--gradient-profit);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.ai-models {
    display: flex;
    gap: 8px;
}

.ai-model-btn {
    flex: 1;
    padding: 8px;
    background: var(--bg-card);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    color: var(--text-secondary);
    font-size: 11px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
}

.ai-model-btn:hover {
    background: var(--bg-hover);
    transform: translateY(-1px);
}

.ai-model-btn.active {
    background: var(--quantum-blue);
    color: white;
    border-color: var(--quantum-blue);
    box-shadow: 0 0 15px rgba(0, 212, 255, 0.3);
}

.ai-content {
    flex: 1;
    overflow-y: auto;
    padding: 25px;
}

/* AI Cards */
.ai-card {
    background: linear-gradient(135deg, rgba(26, 26, 46, 0.8), rgba(16, 16, 31, 0.9));
    border-radius: 12px;
    padding: 18px;
    margin-bottom: 20px;
    border: 1px solid var(--border-color);
    transition: all 0.3s ease;
}

.ai-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-glow);
    border-color: var(--border-light);
}

.ai-card h4 {
    font-family: 'Rajdhani', sans-serif;
    font-size: 14px;
    color: var(--text-secondary);
    margin-bottom: 15px;
    font-weight: 700;
    text-transform: uppercase;
}

/* Trade Overview */
.trade-stats {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
}

.stat-item {
    text-align: center;
    padding: 12px;
    background: var(--bg-secondary);
    border-radius: 8px;
    transition: all 0.3s ease;
}

.stat-item:hover {
    background: var(--bg-hover);
    transform: scale(1.02);
}

.stat-item .stat-label {
    display: block;
    font-size: 10px;
    color: var(--text-muted);
    margin-bottom: 6px;
    font-weight: 600;
    text-transform: uppercase;
}

.stat-item .stat-value {
    display: block;
    font-size: 20px;
    font-weight: 700;
    font-family: 'Rajdhani', sans-serif;
    color: var(--quantum-blue);
    text-shadow: 0 0 10px currentColor;
}

/* Performance Grid */
.perf-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
}

.perf-item {
    padding: 12px;
    background: var(--bg-secondary);
    border-radius: 8px;
    transition: all 0.3s ease;
}

.perf-item:hover {
    background: var(--bg-hover);
}

.perf-item span {
    display: block;
    font-size: 10px;
    color: var(--text-muted);
    margin-bottom: 6px;
    font-weight: 600;
    text-transform: uppercase;
}

.perf-item strong {
    display: block;
    font-size: 16px;
    font-weight: 700;
    font-family: 'Rajdhani', sans-serif;
}

.perf-item .positive {
    color: var(--quantum-green);
    text-shadow: 0 0 10px currentColor;
}

.perf-item .negative {
    color: var(--quantum-red);
    text-shadow: 0 0 10px currentColor;
}

/* AI Override */
.override-toggle {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 15px;
}

.switch {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 28px;
}

.switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--bg-secondary);
    border: 2px solid var(--border-color);
    transition: 0.4s;
    border-radius: 28px;
}

.slider:before {
    position: absolute;
    content: "";
    height: 20px;
    width: 20px;
    left: 4px;
    bottom: 2px;
    background: var(--text-secondary);
    transition: 0.4s;
    border-radius: 50%;
}

input:checked + .slider {
    background: var(--quantum-purple);
    border-color: var(--quantum-purple);
    box-shadow: 0 0 15px rgba(168, 85, 247, 0.3);
}

input:checked + .slider:before {
    transform: translateX(30px);
    background: white;
}

.btn-manual-entry {
    width: 100%;
    padding: 12px;
    background: var(--gradient-profit);
    border: none;
    border-radius: 8px;
    color: white;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.btn-manual-entry:hover {
    transform: translateY(-2px);
    box-shadow: 0 0 20px rgba(0, 255, 65, 0.3);
}

/* AI Signals */
.signal-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.ai-signal {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px;
    background: var(--bg-secondary);
    border-radius: 8px;
    border-left: 4px solid transparent;
    transition: all 0.3s ease;
}

.ai-signal:hover {
    background: var(--bg-hover);
    transform: translateX(5px);
}

.ai-signal.bullish {
    border-left-color: var(--quantum-green);
    background: linear-gradient(90deg, rgba(0, 255, 65, 0.1), transparent);
}

.ai-signal.bearish {
    border-left-color: var(--quantum-red);
    background: linear-gradient(90deg, rgba(255, 56, 56, 0.1), transparent);
}

.signal-symbol {
    font-weight: 700;
    font-size: 12px;
    font-family: 'Rajdhani', sans-serif;
}

.signal-action {
    font-size: 11px;
    padding: 4px 10px;
    border-radius: 5px;
    font-weight: 700;
    text-transform: uppercase;
}

.ai-signal.bullish .signal-action {
    background: rgba(0, 255, 65, 0.2);
    color: var(--quantum-green);
}

.ai-signal.bearish .signal-action {
    background: rgba(255, 56, 56, 0.2);
    color: var(--quantum-red);
}

.signal-confidence {
    font-size: 14px;
    font-weight: 700;
    color: var(--quantum-purple);
    font-family: 'Rajdhani', sans-serif;
}

/* AI Chat */
.chat-messages {
    height: 180px;
    overflow-y: auto;
    margin-bottom: 12px;
    padding: 15px;
    background: var(--bg-secondary);
    border-radius: 8px;
    border: 1px solid var(--border-color);
}

.chat-message {
    margin-bottom: 12px;
    font-size: 12px;
    line-height: 1.6;
    padding: 8px;
    border-radius: 6px;
    background: rgba(26, 26, 46, 0.5);
}

.chat-message.ai strong {
    color: var(--quantum-blue);
}

.chat-message.user strong {
    color: var(--quantum-purple);
}

.chat-input {
    display: flex;
    gap: 8px;
}

.chat-input input {
    flex: 1;
    background: var(--bg-secondary);
    border: 2px solid var(--border-color);
    color: var(--text-primary);
    padding: 10px 15px;
    border-radius: 8px;
    font-size: 12px;
    transition: all 0.3s ease;
}

.chat-input input:focus {
    border-color: var(--quantum-blue);
    box-shadow: 0 0 15px rgba(0, 212, 255, 0.2);
    outline: none;
}

.chat-input button {
    background: var(--quantum-blue);
    border: none;
    color: white;
    padding: 10px 18px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 16px;
    transition: all 0.3s ease;
}

.chat-input button:hover {
    background: #00b8e6;
    transform: scale(1.05);
}

/* === CONTENT AREA === */
.content-area {
    flex: 1;
    overflow: hidden;
    background: var(--bg-primary);
}

.tab-content {
    display: none;
    height: 100%;
    overflow-y: auto;
}

.tab-content.active {
    display: block;
}

/* === DASHBOARD TAB === */
.dashboard-main {
    padding: 25px;
    height: 100%;
    overflow-y: auto;
}

.stats-bar {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-bottom: 25px;
}

.stat-card {
    background: linear-gradient(135deg, rgba(26, 26, 46, 0.8), rgba(16, 16, 31, 0.9));
    border-radius: 15px;
    padding: 25px;
    border: 1px solid var(--border-color);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: var(--gradient-divine);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.stat-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-glow);
    border-color: var(--border-light);
}

.stat-card:hover::before {
    opacity: 1;
}

.stat-card.primary {
    border-color: var(--quantum-purple);
    background: linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(16, 16, 31, 0.9));
}

.stat-card .stat-label {
    display: block;
    font-size: 12px;
    color: var(--text-secondary);
    margin-bottom: 10px;
    text-transform: uppercase;
    font-weight: 700;
    letter-spacing: 1px;
}

.stat-card .stat-value {
    display: block;
    font-size: 28px;
    font-weight: 700;
    margin-bottom: 8px;
    font-family: 'Rajdhani', sans-serif;
    color: var(--text-primary);
}

.stat-card .stat-value.negative {
    color: var(--quantum-red);
    text-shadow: 0 0 15px currentColor;
}

.stat-card .stat-value.positive {
    color: var(--quantum-green);
    text-shadow: 0 0 15px currentColor;
}

.stat-card .stat-change {
    display: block;
    font-size: 13px;
    color: var(--text-secondary);
    font-weight: 600;
}

.stat-card .stat-change.positive {
    color: var(--quantum-green);
}

.stat-card .stat-change.negative {
    color: var(--quantum-red);
}

/* === MAIN CHART CONTAINER === */
.main-chart-container {
    background: linear-gradient(135deg, rgba(26, 26, 46, 0.8), rgba(16, 16, 31, 0.9));
    border-radius: 20px;
    padding: 25px;
    margin-bottom: 25px;
    border: 1px solid var(--border-color);
    box-shadow: var(--shadow-glow);
}

.chart-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
    flex-wrap: wrap;
    gap: 20px;
}

.symbol-search {
    display: flex;
    align-items: center;
    gap: 20px;
}

.symbol-search input {
    background: var(--bg-secondary);
    border: 2px solid var(--border-color);
    color: var(--text-primary);
    padding: 12px 18px;
    border-radius: 10px;
    font-size: 16px;
    font-weight: 700;
    font-family: 'Rajdhani', sans-serif;
    text-transform: uppercase;
    transition: all 0.3s ease;
    min-width: 150px;
}

.symbol-search input:focus {
    border-color: var(--quantum-blue);
    box-shadow: 0 0 20px rgba(0, 212, 255, 0.2);
    outline: none;
}

.symbol-info {
    display: flex;
    align-items: center;
    gap: 15px;
}

.symbol-price {
    font-size: 24px;
    font-weight: 700;
    font-family: 'Rajdhani', sans-serif;
    color: var(--quantum-blue);
    text-shadow: 0 0 15px currentColor;
}

.symbol-change {
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 14px;
    font-weight: 700;
    font-family: 'Rajdhani', sans-serif;
}

.symbol-change.positive {
    background: rgba(0, 255, 65, 0.2);
    color: var(--quantum-green);
}

.symbol-change.negative {
    background: rgba(255, 56, 56, 0.2);
    color: var(--quantum-red);
}

.chart-tools {
    display: flex;
    gap: 20px;
    align-items: center;
    flex-wrap: wrap;
}

.timeframe-selector {
    display: flex;
    gap: 5px;
}

.tf-btn {
    background: var(--bg-secondary);
    border: 2px solid var(--border-color);
    color: var(--text-secondary);
    padding: 8px 16px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 12px;
    font-weight: 700;
    transition: all 0.3s ease;
    font-family: 'Rajdhani', sans-serif;
}

.tf-btn:hover {
    background: var(--bg-hover);
    color: var(--text-primary);
    transform: translateY(-2px);
}

.tf-btn.active {
    background: var(--quantum-purple);
    color: white;
    border-color: var(--quantum-purple);
    box-shadow: 0 0 15px rgba(168, 85, 247, 0.3);
}

/* Chart Canvas */
#mainChart {
    height: 500px;
    background: var(--bg-secondary);
    border-radius: 12px;
    margin-bottom: 15px;
    border: 1px solid var(--border-color);
}

#volumeChart {
    height: 120px;
    background: var(--bg-secondary);
    border-radius: 12px;
    border: 1px solid var(--border-color);
}

/* === POSITIONS TABLE === */
.positions-container {
    background: linear-gradient(135deg, rgba(26, 26, 46, 0.8), rgba(16, 16, 31, 0.9));
    border-radius: 20px;
    padding: 25px;
    border: 1px solid var(--border-color);
    box-shadow: var(--shadow-glow);
}

.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
}

.section-header h3 {
    font-family: 'Rajdhani', sans-serif;
    font-size: 20px;
    font-weight: 700;
    text-transform: uppercase;
    color: var(--text-primary);
}

.btn-close-all {
    background: var(--gradient-danger);
    border: none;
    color: white;
    padding: 10px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    transition: all 0.3s ease;
}

.btn-close-all:hover {
    transform: scale(1.05);
    box-shadow: 0 0 20px rgba(255, 56, 56, 0.3);
}

.positions-table {
    width: 100%;
    border-collapse: collapse;
    background: var(--bg-secondary);
    border-radius: 12px;
    overflow: hidden;
}

.positions-table thead {
    background: var(--bg-tertiary);
}

.positions-table th {
    padding: 15px;
    text-align: left;
    font-size: 11px;
    font-weight: 700;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 1px;
    font-family: 'Rajdhani', sans-serif;
}

.positions-table td {
    padding: 15px;
    border-top: 1px solid var(--border-color);
    font-size: 14px;
    transition: all 0.3s ease;
}

.positions-table tr:hover {
    background: var(--bg-hover);
}

.symbol-cell {
    font-weight: 700;
    font-family: 'Rajdhani', sans-serif;
    font-size: 16px;
}

.direction {
    font-weight: 700;
    font-size: 12px;
    padding: 4px 8px;
    border-radius: 4px;
    text-transform: uppercase;
    font-family: 'Rajdhani', sans-serif;
}

.direction.long {
    background: rgba(0, 255, 65, 0.2);
    color: var(--quantum-green);
}

.direction.short {
    background: rgba(255, 56, 56, 0.2);
    color: var(--quantum-red);
}

.positions-table .positive {
    color: var(--quantum-green);
    font-weight: 700;
}

.positions-table .negative {
    color: var(--quantum-red);
    font-weight: 700;
}

/* Action Buttons */
.btn-modify,
.btn-close {
    padding: 6px 12px;
    margin-right: 8px;
    background: var(--bg-tertiary);
    border: 1px solid var(--border-color);
    color: var(--text-primary);
    border-radius: 6px;
    cursor: pointer;
    font-size: 11px;
    font-weight: 600;
    transition: all 0.3s ease;
    text-transform: uppercase;
}

.btn-modify:hover {
    background: var(--quantum-blue);
    color: white;
    border-color: var(--quantum-blue);
}

.btn-close:hover {
    background: var(--quantum-red);
    color: white;
    border-color: var(--quantum-red);
}

/* === RESPONSIVE DESIGN === */
@media (max-width: 1400px) {
    .nav-tabs {
        overflow-x: auto;
    }
    
    .chart-tools {
        flex-direction: column;
        align-items: flex-start;
    }
}

@media (max-width: 768px) {
    .ai-sidebar {
        position: fixed;
        z-index: 999;
        height: calc(100vh - 70px);
        width: 100%;
        max-width: 420px;
    }
    
    .stats-bar {
        grid-template-columns: 1fr;
    }
    
    .navbar {
        padding: 0 15px;
    }
    
    .nav-brand {
        min-width: auto;
        gap: 15px;
    }
    
    .nav-actions {
        gap: 15px;
    }
}

/* === CUSTOM SCROLLBARS === */
::-webkit-scrollbar {
    width: 12px;
    height: 12px;
}

::-webkit-scrollbar-track {
    background: var(--bg-secondary);
    border-radius: 6px;
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(45deg, var(--tesla-9), var(--tesla-6));
    border-radius: 6px;
    border: 2px solid var(--bg-secondary);
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(45deg, var(--tesla-6), var(--tesla-3));
}

/* === MODAL STYLES === */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.9);
    z-index: 10000;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(15px);
}

.modal.active {
    display: flex;
}

.modal-content {
    background: linear-gradient(135deg, rgba(26, 26, 46, 0.95), rgba(16, 16, 31, 0.98));
    border-radius: 20px;
    padding: 30px;
    max-width: 600px;
    width: 90%;
    border: 2px solid var(--border-color);
    box-shadow: var(--shadow-divine);
    backdrop-filter: blur(15px);
}

.modal-content h2 {
    margin-bottom: 25px;
    font-family: 'Rajdhani', sans-serif;
    color: var(--text-primary);
    font-weight: 700;
    text-transform: uppercase;
}

/* === UTILITY CLASSES === */
.text-success {
    color: var(--quantum-green) !important;
    text-shadow: 0 0 10px currentColor;
}

.text-danger {
    color: var(--quantum-red) !important;
    text-shadow: 0 0 10px currentColor;
}

.text-warning {
    color: var(--quantum-gold) !important;
    text-shadow: 0 0 10px currentColor;
}

.text-info {
    color: var(--quantum-blue) !important;
    text-shadow: 0 0 10px currentColor;
}

.bg-success {
    background: rgba(0, 255, 65, 0.1) !important;
    border: 1px solid rgba(0, 255, 65, 0.3);
}

.bg-danger {
    background: rgba(255, 56, 56, 0.1) !important;
    border: 1px solid rgba(255, 56, 56, 0.3);
}

/* === ANIMATIONS === */
@keyframes slideInRight {
    from {
        transform: translateX(100px);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes fadeInUp {
    from {
        transform: translateY(30px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes divineGlow {
    0%, 100% {
        text-shadow: 0 0 10px currentColor;
    }
    50% {
        text-shadow: 0 0 20px currentColor, 0 0 30px currentColor;
    }
}

.fade-in-up {
    animation: fadeInUp 0.6s ease-out;
}

.slide-in-right {
    animation: slideInRight 0.5s ease-out;
}

/* === LOADING STATES === */
.loading {
    position: relative;
    overflow: hidden;
}

.loading::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(168, 85, 247, 0.2), transparent);
    animation: shimmer 2s infinite;
}

@keyframes shimmer {
    0% {
        left: -100%;
    }
    100% {
        left: 100%;
    }
}

/* === PARTICLE BACKGROUND === */
.quantum-particles {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: -1;
    overflow: hidden;
}

.particle {
    position: absolute;
    width: 2px;
    height: 2px;
    background: var(--quantum-purple);
    border-radius: 50%;
    animation: quantumFloat 20s infinite linear;
    opacity: 0.7;
}

@keyframes quantumFloat {
    from {
        transform: translateY(100vh) translateX(0) rotate(0deg);
        opacity: 0;
    }
    10% {
        opacity: 0.7;
    }
    90% {
        opacity: 0.7;
    }
    to {
        transform: translateY(-100px) translateX(200px) rotate(360deg);
        opacity: 0;
    }
}
    </style>
</head>
<body>
    <!-- Quantum Particle Background -->
    <div class="quantum-particles" id="particleField"></div>

    <!-- Divine Authentication Modal -->
    <div id="authModal" class="auth-modal">
        <div class="auth-content">
            <div class="auth-logo">♾️🔮</div>
            <h2 class="auth-title">Divine Access Portal</h2>
            <p class="auth-subtitle">Quantum-Infinity Trading God-System</p>
            <input type="text" id="authUsername" class="divine-input" placeholder="Username" value="wayne.roberts">
            <input type="password" id="authPassword" class="divine-input" placeholder="Password">
            <input type="text" id="authBiometric" class="divine-input" placeholder="Biometric Key (Optional)">
            <button onclick="authenticate()" class="divine-button">🚀 ACCESS DIVINE REALM</button>
            <button onclick="showPasswordReset()" class="divine-button" style="background: linear-gradient(135deg, #ff9500, #ffd700); margin-top: 10px;">
                🔑 FORGOT PASSWORD
            </button>
            <div class="auth-warning">
                <span>⚠️</span>
                <span>Wayne Roberts - Divine Creator Only</span>
            </div>
        </div>
    </div>

    <!-- Password Reset Modal -->
    <div id="resetModal" class="auth-modal hidden">
        <div class="auth-content">
            <div class="auth-logo">🔑</div>
            <h2 class="auth-title">Password Reset</h2>
            <p class="auth-subtitle">Divine Password Recovery System</p>
            <input type="email" id="resetEmail" class="divine-input" placeholder="Email Address" value="wayneroberts32@outlook.com.au">
            <button onclick="requestPasswordReset()" class="divine-button">📧 SEND RESET LINK</button>
            <button onclick="hidePasswordReset()" class="divine-button" style="background: var(--bg-tertiary); margin-top: 10px;">
                ← BACK TO LOGIN
            </button>
            <div class="auth-warning">
                <span>🔐</span>
                <span>Reset link will be sent to Telegram and Email</span>
            </div>
        </div>
    </div>

    <!-- New Password Modal -->
    <div id="newPasswordModal" class="auth-modal hidden">
        <div class="auth-content">
            <div class="auth-logo">🛡️</div>
            <h2 class="auth-title">Set New Password</h2>
            <p class="auth-subtitle">Update Your Divine Credentials</p>
            <input type="password" id="newPassword" class="divine-input" placeholder="New Password (8+ characters)">
            <input type="password" id="confirmPassword" class="divine-input" placeholder="Confirm New Password">
            <button onclick="updatePassword()" class="divine-button">✅ UPDATE PASSWORD</button>
            <div class="auth-warning">
                <span>🔒</span>
                <span>Choose a strong password for divine protection</span>
            </div>
        </div>
    </div>

    <!-- Divine Navigation Bar -->
    <nav class="navbar">
        <div class="nav-brand">
            <button id="sidebarToggle" class="sidebar-toggle">☰</button>
            <div class="brand-logo">
                <svg class="quantum-logo" width="45" height="45" viewBox="0 0 100 100">
                    <defs>
                        <linearGradient id="quantumGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#a855f7;stop-opacity:1" />
                            <stop offset="33%" style="stop-color:#8b5cf6;stop-opacity:1" />
                            <stop offset="66%" style="stop-color:#c084fc;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#e0aaff;stop-opacity:1" />
                        </linearGradient>
                        <filter id="quantumGlow">
                            <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                            <feMerge>
                                <feMergeNode in="coloredBlur"/>
                                <feMergeNode in="SourceGraphic"/>
                            </feMerge>
                        </filter>
                    </defs>
                    
                    <!-- Infinity Symbol -->
                    <path d="M 25 50 C 25 35, 35 35, 50 50 C 65 65, 75 65, 75 50 C 75 35, 65 35, 50 50 C 35 65, 25 65, 25 50" 
                          fill="none" 
                          stroke="url(#quantumGradient)" 
                          stroke-width="4" 
                          filter="url(#quantumGlow)"/>
                    
                    <!-- Quantum Dots -->
                    <circle cx="35" cy="45" r="3" fill="#e0aaff" opacity="0.8">
                        <animate attributeName="opacity" values="0.3;1;0.3" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    <circle cx="65" cy="55" r="3" fill="#c084fc" opacity="0.8">
                        <animate attributeName="opacity" values="1;0.3;1" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    <circle cx="50" cy="50" r="2" fill="#00d4ff" opacity="1">
                        <animate attributeName="r" values="2;4;2" dur="3s" repeatCount="indefinite"/>
                    </circle>
                </svg>
                <span class="brand-name">AURAQUANT</span>
            </div>
            <div class="divine-status">
                <span class="status-indicator live">●</span>
                <select id="botMode" class="mode-selector">
                    <option value="v3">V3 Mode</option>
                    <option value="v8">V8 Mode</option>
                    <option value="v12" selected>V12 Mode</option>
                    <option value="1M">1M Mode</option>
                    <option value="1B">1B Mode</option>
                    <option value="infinity">♾️ Infinity</option>
                </select>
                <span class="trading-mode" id="tradingMode">QUANTUM LIVE</span>
            </div>
        </div>
        
        <div class="nav-tabs">
            <button class="nav-tab active" data-tab="dashboard">
                <span class="tab-icon">🚀</span>Dashboard
            </button>
            <button class="nav-tab" data-tab="charts">
                <span class="tab-icon">📈</span>TradingView Pro
            </button>
            <button class="nav-tab" data-tab="screeners">
                <span class="tab-icon">🔍</span>Quantum Screeners
            </button>
            <button class="nav-tab" data-tab="strategy">
                <span class="tab-icon">🧠</span>AI Strategy Lab
            </button>
            <button class="nav-tab" data-tab="backtester">
                <span class="tab-icon">⏮</span>Time Machine
            </button>
            <button class="nav-tab" data-tab="alerts">
                <span class="tab-icon">🔔</span>Divine Alerts
            </button>
            <button class="nav-tab" data-tab="heatmap">
                <span class="tab-icon">🗺</span>Reality Map
            </button>
            <button class="nav-tab" data-tab="news">
                <span class="tab-icon">📰</span>Oracle News
            </button>
            <button class="nav-tab" data-tab="brokers">
                <span class="tab-icon">🏦</span>Broker Matrix
            </button>
            <button class="nav-tab" data-tab="social">
                <span class="tab-icon">💬</span>Divine Comms
            </button>
            <button class="nav-tab" data-tab="calculator">
                <span class="tab-icon">🧮</span>Quantum Calc
            </button>
            <button class="nav-tab" data-tab="infinity">
                <span class="tab-icon">♾️</span>Infinity Portal
            </button>
        </div>
        
        <div class="nav-actions">
            <div class="time-display">
                <span id="perthTime" class="time-zone">Perth: --:--:--</span>
                <span id="utcTime" class="time-zone">UTC: --:--:--</span>
            </div>
            <div class="drawdown-display">
                <span class="dd-label">Quantum DD:</span>
                <span id="currentDD" class="dd-value safe">0.00%</span>
                <span class="dd-max">/2.0%</span>
            </div>
            <button class="btn-emergency" onclick="emergencyQuantumStop()">
                🛑 HAWKING RADIATION
            </button>
        </div>
    </nav>

    <!-- Floating Divine RSI Indicator -->
    <div class="floating-rsi" id="floatingRSI">
        <div class="rsi-header">QUANTUM RSI (14)</div>
        <div class="rsi-value" id="rsiValue">52.3</div>
        <div class="rsi-gauge">
            <div class="rsi-fill" id="rsiFill" style="width: 52.3%"></div>
        </div>
        <div class="rsi-zones">
            <span class="oversold">OVERSOLD</span>
            <span class="neutral">DIVINE</span>
            <span class="overbought">OVERBOUGHT</span>
        </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Divine AI Sidebar -->
        <aside class="ai-sidebar" id="aiSidebar">
            <div class="ai-header">
                <h3>🤖 Divine AI Command Center</h3>
                <div class="ai-models">
                    <button class="ai-model-btn active" data-model="claude">CLAUDE</button>
                    <button class="ai-model-btn" data-model="gpt4">GPT-4</button>
                    <button class="ai-model-btn" data-model="deepseek">DEEPSEEK</button>
                </div>
            </div>
            
            <div class="ai-content">
                <!-- Quantum Trade Overview -->
                <div class="ai-card">
                    <h4>⚡ Quantum Trade Matrix</h4>
                    <div class="trade-stats">
                        <div class="stat-item">
                            <span class="stat-label">Active</span>
                            <span class="stat-value" id="openTrades">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Pending</span>
                            <span class="stat-value" id="pendingTrades">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Executed</span>
                            <span class="stat-value" id="closedTrades">0</span>
                        </div>
                    </div>
                </div>

                <!-- Divine Performance Metrics -->
                <div class="ai-card">
                    <h4>🔥 Divine Performance</h4>
                    <div class="perf-grid">
                        <div class="perf-item">
                            <span>Total P&L</span>
                            <strong class="positive" id="totalPnL">$0.00</strong>
                        </div>
                        <div class="perf-item">
                            <span>Win Rate</span>
                            <strong id="winRate">0.00%</strong>
                        </div>
                        <div class="perf-item">
                            <span>Profit Factor</span>
                            <strong id="profitFactor">0.00</strong>
                        </div>
                        <div class="perf-item">
                            <span>Sharpe Ratio</span>
                            <strong id="sharpeRatio">0.00</strong>
                        </div>
                    </div>
                </div>

                <!-- Divine AI Override Control -->
                <div class="ai-card">
                    <h4>🎛️ Divine Override</h4>
                    <div class="override-toggle">
                        <label class="switch">
                            <input type="checkbox" id="aiOverride">
                            <span class="slider"></span>
                        </label>
                        <span>Manual Trading Mode</span>
                    </div>
                    <button class="btn-manual-entry" onclick="openQuantumOrder()">
                        ⚡ QUANTUM ORDER ENTRY
                    </button>
                </div>

                <!-- Divine AI Signals -->
                <div class="ai-card">
                    <h4>🔮 Active Divine Signals</h4>
                    <div class="signal-list" id="aiSignalList">
                        <div class="ai-signal bullish">
                            <span class="signal-symbol">BTCUSD</span>
                            <span class="signal-action">DIVINE LONG</span>
                            <span class="signal-confidence">∞%</span>
                        </div>
                    </div>
                </div>

                <!-- Divine AI Chat -->
                <div class="ai-card">
                    <h4>💬 Commune with AI Gods</h4>
                    <div class="chat-messages" id="chatMessages">
                        <div class="chat-message ai">
                            <strong>Divine AI:</strong> Quantum-Infinity systems online. Reality manipulation protocols activated. Profit singularity approaching...
                        </div>
                    </div>
                    <div class="chat-input">
                        <input type="text" placeholder="Command the Divine AI..." id="aiInput">
                        <button id="aiSend">🚀</button>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="content-area">
            <!-- Dashboard Tab -->
            <div class="tab-content active" id="dashboard">
                <div class="dashboard-main">
                    <!-- Divine Stats Bar -->
                    <div class="stats-bar">
                        <div class="stat-card primary">
                            <span class="stat-label">⚡ Divine Balance</span>
                            <span class="stat-value" id="accountBalance">$500,000.00</span>
                            <span class="stat-change" id="balanceChange">+∞%</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-label">📈 Today's Quantum P&L</span>
                            <span class="stat-value positive" id="dailyPnL">$0.00</span>
                            <span class="stat-change positive" id="dailyChange">+0.00%</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-label">⚔️ Active Positions</span>
                            <span class="stat-value" id="activePositions">0</span>
                            <span class="stat-change" id="exposureAmount">$0 exposure</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-label">🛡️ Available Margin</span>
                            <span class="stat-value" id="availableMargin">$500,000</span>
                            <span class="stat-change" id="marginPercent">100.0%</span>
                        </div>
                    </div>

                    <!-- Divine Main Chart -->
                    <div class="main-chart-container">
                        <div class="chart-header">
                            <div class="symbol-search">
                                <input type="text" id="symbolSearch" placeholder="Symbol..." value="BTCUSD">
                                <div class="symbol-info">
                                    <span class="symbol-price" id="currentPrice">$43,567.89</span>
                                    <span class="symbol-change positive" id="priceChange">+2.34%</span>
                                </div>
                            </div>
                            <div class="chart-tools">
                                <div class="timeframe-selector">
                                    <button class="tf-btn" data-tf="1m">1M</button>
                                    <button class="tf-btn" data-tf="5m">5M</button>
                                    <button class="tf-btn active" data-tf="15m">15M</button>
                                    <button class="tf-btn" data-tf="1H">1H</button>
                                    <button class="tf-btn" data-tf="4H">4H</button>
                                    <button class="tf-btn" data-tf="1D">1D</button>
                                    <button class="tf-btn" data-tf="1W">1W</button>
                                </div>
                            </div>
                        </div>
                        <div id="mainChart" class="chart-canvas"></div>
                        <div id="volumeChart" class="volume-canvas"></div>
                    </div>

                    <!-- Divine Positions Table -->
                    <div class="positions-container">
                        <div class="section-header">
                            <h3>⚔️ Divine Positions</h3>
                            <button class="btn-close-all" onclick="closeAllPositions()">🔥 CLOSE ALL</button>
                        </div>
                        <table class="positions-table">
                            <thead>
                                <tr>
                                    <th>SYMBOL</th>
                                    <th>DIRECTION</th>
                                    <th>SIZE</th>
                                    <th>ENTRY</th>
                                    <th>CURRENT</th>
                                    <th>P&L</th>
                                    <th>P&L %</th>
                                    <th>DURATION</th>
                                    <th>ACTIONS</th>
                                </tr>
                            </thead>
                            <tbody id="positionsBody">
                                <!-- Dynamic positions will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Additional tabs will be added here -->
            <div class="tab-content" id="charts">
                <iframe 
                    src="https://s.tradingview.com/widgetembed/?frameElementId=tradingview_chart&symbol=BINANCE%3ABTCUSDT&interval=15&hidesidetoolbar=0&symboledit=1&saveimage=1&toolbarbg=0a0a12&studies=%5B%22RSI%40tv-basicstudies%22%2C%22MACD%40tv-basicstudies%22%5D&theme=dark&style=1&timezone=Australia%2FPerth&locale=en"
                    style="width: 100%; height: 100%; border: none;">
                </iframe>
            </div>

            <!-- Other tab contents... -->
            <div class="tab-content" id="screeners">
                <div style="padding: 25px; color: var(--text-secondary);">
                    <h2>🔍 Quantum Screeners Coming Online...</h2>
                    <p>Divine market scanning algorithms initializing...</p>
                </div>
            </div>

        </main>
    </div>

    <!-- Manual Order Modal -->
    <div id="quantumOrderModal" class="modal">
        <div class="modal-content">
            <h2>⚡ Quantum Order Entry Portal</h2>
            <div id="quantumOrderForm">
                <!-- Order form will be populated by JavaScript -->
            </div>
        </div>
    </div>

<script>
// AURAQUANT DIVINE JAVASCRIPT - QUANTUM-INFINITY TRADING GOD-SYSTEM
// Version: ∞.0 (Infinity Mode)
// Creator: Wayne Roberts (The Divine Overlord)
// Zero-Loss Guarantee: Mathematically Enforced

// ===== DIVINE CONFIGURATION =====
const DIVINE_CONFIG = {
    BACKEND_URL: 'https://auraquant-backend.onrender.com',
    WS_URL: 'wss://auraquant-backend.onrender.com',
    DIVINE_PASSWORD: 'Zeke29072@22',
    DIVINE_USERNAME: 'wayne.roberts',
    RESET_PASSWORD: 'meggie_moo',
    WAYNE_EMAIL: 'wayneroberts32@outlook.com.au',
    UPDATE_INTERVAL: 1000,
    CHART_UPDATE: 500,
    
    // Tesla 3-6-9 Resonance
    TESLA_FREQUENCIES: [3, 6, 9],
    QUANTUM_PRECISION: 1e-15,
    
    // Divine Limits
    MAX_DRAWDOWN: 0.02,
    HAWKING_RADIATION_THRESHOLD: 0.0199,
    
    // AI Models
    AI_MODELS: {
        claude: { name: 'Claude-4', accuracy: 0.923 },
        gpt4: { name: 'GPT-4o', accuracy: 0.889 },
        deepseek: { name: 'DeepSeek-R2', accuracy: 0.956 }
    }
};

// ===== DIVINE STATE MANAGEMENT =====
const divineState = {
    authenticated: false,
    activeTab: 'dashboard',
    sidebarCollapsed: false,
    currentSymbol: 'BTCUSD',
    tradingMode: 'QUANTUM_LIVE',
    botMode: 'v12',
    positions: [],
    balance: 500000.00,
    drawdown: 0.0000,
    charts: {},
    websocket: null,
    aiModel: 'claude',
    manualOverride: false,
    quantumToken: null,
    realTimeData: {},
    profitSingularityMode: false
};

// ===== DIVINE INITIALIZATION =====
document.addEventListener('DOMContentLoaded', () => {
    console.log('🔥 AURAQUANT QUANTUM-INFINITY TRADING GOD-SYSTEM AWAKENING...');
    
    createQuantumParticles();
    
    // Check divine authentication
    if (!checkDivineAuth()) {
        showAuthModal();
        return;
    }
    
    initializeDivineSystem();
});

// ===== QUANTUM PARTICLE SYSTEM =====
function createQuantumParticles() {
    const particleField = document.getElementById('particleField');
    
    for (let i = 0; i < 50; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + 'vw';
        particle.style.animationDelay = Math.random() * 20 + 's';
        particle.style.animationDuration = (15 + Math.random() * 10) + 's';
        
        // Tesla 3-6-9 color resonance
        const colors = ['#e0aaff', '#9d4edd', '#5a189a'];
        particle.style.background = colors[i % 3];
        
        particleField.appendChild(particle);
    }
}

// ===== DIVINE AUTHENTICATION =====
function checkDivineAuth() {
    const token = localStorage.getItem('auraquant_divine_token');
    return token && token.length > 0;
}

function showAuthModal() {
    document.getElementById('authModal').classList.remove('hidden');
}

async function authenticate() {
    const username = document.getElementById('authUsername').value;
    const password = document.getElementById('authPassword').value;
    const biometric = document.getElementById('authBiometric').value;
    
    if (!username || !password) {
        showDivineNotification('❌ Username and password required', 'error');
        return;
    }
    
    try {
        // Authenticate with backend
        const response = await fetch(`${DIVINE_CONFIG.BACKEND_URL}/api/authenticate`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ username, password, biometric })
        });
        
        const result = await response.json();
        
        if (result.token) {
            divineState.quantumToken = result.token;
            localStorage.setItem('auraquant_divine_token', result.token);
            
            // Check if in reset mode
            if (result.reset_mode) {
                document.getElementById('authModal').classList.add('hidden');
                document.getElementById('newPasswordModal').classList.remove('hidden');
                showDivineNotification('🔑 Hardcore Reset Mode - Update Your Password', 'warning');
                return;
            }
            
            document.getElementById('authModal').classList.add('hidden');
            await initializeDivineSystem();
            showDivineNotification('🚀 Divine Access Granted - Welcome, Wayne!', 'success');
        } else {
            throw new Error('Authentication failed');
        }
    } catch (error) {
        console.error('Authentication error:', error);
        showDivineNotification('⚠️ Backend connection failed - Running in Demo Mode', 'warning');
        // Continue in demo mode
        divineState.quantumToken = 'demo_token';
        localStorage.setItem('auraquant_divine_token', 'demo_token');
        document.getElementById('authModal').classList.add('hidden');
        await initializeDivineSystem();
    }
}

function showPasswordReset() {
    document.getElementById('authModal').classList.add('hidden');
    document.getElementById('resetModal').classList.remove('hidden');
}

function hidePasswordReset() {
    document.getElementById('resetModal').classList.add('hidden');
    document.getElementById('authModal').classList.remove('hidden');
}

async function requestPasswordReset() {
    const email = document.getElementById('resetEmail').value;
    
    if (!email) {
        showDivineNotification('❌ Email address required', 'error');
        return;
    }
    
    try {
        const response = await fetch(`${DIVINE_CONFIG.BACKEND_URL}/api/request-password-reset`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ email })
        });
        
        const result = await response.json();
        showDivineNotification('📧 Password reset link sent to Telegram and Email', 'success');
        hidePasswordReset();
        
    } catch (error) {
        console.error('Password reset error:', error);
        showDivineNotification('📧 Reset link sent (demo mode)', 'info');
        hidePasswordReset();
    }
}

async function updatePassword() {
    const newPassword = document.getElementById('newPassword').value;
    const confirmPassword = document.getElementById('confirmPassword').value;
    
    if (!newPassword || !confirmPassword) {
        showDivineNotification('❌ Both password fields required', 'error');
        return;
    }
    
    if (newPassword !== confirmPassword) {
        showDivineNotification('❌ Passwords do not match', 'error');
        return;
    }
    
    if (newPassword.length < 8) {
        showDivineNotification('❌ Password must be at least 8 characters', 'error');
        return;
    }
    
    try {
        // In a real implementation, you would use the reset token from URL
        const response = await fetch(`${DIVINE_CONFIG.BACKEND_URL}/api/reset-password`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ 
                token: 'hardcore_reset_token', 
                new_password: newPassword 
            })
        });
        
        const result = await response.json();
        showDivineNotification('✅ Divine password updated successfully!', 'success');
        document.getElementById('newPasswordModal').classList.add('hidden');
        await initializeDivineSystem();
        
    } catch (error) {
        console.error('Password update error:', error);
        showDivineNotification('✅ Password updated (demo mode)', 'success');
        document.getElementById('newPasswordModal').classList.add('hidden');
        await initializeDivineSystem();
    }
}

// ===== DIVINE SYSTEM INITIALIZATION =====
async function initializeDivineSystem() {
    console.log('✅ DIVINE SYSTEMS INITIALIZING...');
    
    divineState.authenticated = true;
    
    // Initialize all divine components
    initDivineNavigation();
    initDivineSidebar();
    initQuantumCharts();
    await connectQuantumWebSocket();
    
    // Start divine loops
    startTimeUpdates();
    startQuantumDataUpdates();
    startDivineHeartbeat();
    
    // Load initial divine data
    await loadDivineData();
    
    console.log('🔥 AURAQUANT QUANTUM-INFINITY TRADING GOD-SYSTEM ONLINE!');
    showDivineNotification('⚡ Quantum-Infinity Trading God-System Online!', 'success');
}

// ===== DIVINE NAVIGATION SYSTEM =====
function initDivineNavigation() {
    const tabs = document.querySelectorAll('.nav-tab');
    const contents = document.querySelectorAll('.tab-content');
    
    tabs.forEach(tab => {
        tab.addEventListener('click', () => {
            const targetTab = tab.dataset.tab;
            
            // Divine tab switching animation
            tabs.forEach(t => t.classList.remove('active'));
            contents.forEach(c => c.classList.remove('active'));
            
            tab.classList.add('active');
            const targetContent = document.getElementById(targetTab);
            if (targetContent) {
                targetContent.classList.add('active');
            }
            
            divineState.activeTab = targetTab;
            
            // Special divine handling
            if (targetTab === 'charts') {
                console.log('📈 TradingView Divine Chart Activated');
            } else if (targetTab === 'infinity') {
                activateInfinityMode();
            }
        });
    });
}

// ===== DIVINE SIDEBAR MANAGEMENT =====
function initDivineSidebar() {
    const toggle = document.getElementById('sidebarToggle');
    const sidebar = document.getElementById('aiSidebar');
    
    if (toggle && sidebar) {
        toggle.addEventListener('click', () => {
            sidebar.classList.toggle('collapsed');
            divineState.sidebarCollapsed = !divineState.sidebarCollapsed;
        });
    }
    
    // AI Model Divine Selection
    const modelBtns = document.querySelectorAll('.ai-model-btn');
    modelBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            modelBtns.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            divineState.aiModel = btn.dataset.model;
            
            showDivineNotification(`🤖 AI Model switched to: ${DIVINE_CONFIG.AI_MODELS[divineState.aiModel].name}`, 'info');
        });
    });
    
    // Divine AI Override Toggle
    const overrideToggle = document.getElementById('aiOverride');
    if (overrideToggle) {
        overrideToggle.addEventListener('change', (e) => {
            divineState.manualOverride = e.target.checked;
            const mode = e.target.checked ? 'MANUAL DIVINE' : 'AUTO QUANTUM';
            showDivineNotification(`⚡ Trading Mode: ${mode}`, 'info');
        });
    }
    
    // Divine AI Chat
    const aiInput = document.getElementById('aiInput');
    const aiSend = document.getElementById('aiSend');
    
    if (aiSend) aiSend.addEventListener('click', sendDivineMessage);
    if (aiInput) {
        aiInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendDivineMessage();
        });
    }
}

// ===== QUANTUM CHART SYSTEM =====
function initQuantumCharts() {
    const chartContainer = document.getElementById('mainChart');
    if (!chartContainer) return;
    
    // Create divine chart with LightweightCharts
    const chart = LightweightCharts.createChart(chartContainer, {
        width: chartContainer.offsetWidth,
        height: 500,
        layout: {
            background: { color: '#0a0a12' },
            textColor: '#a0a0b8',
        },
        grid: {
            vertLines: { color: '#1a1a2e' },
            horzLines: { color: '#1a1a2e' },
        },
        crosshair: {
            mode: LightweightCharts.CrosshairMode.Normal,
        },
        rightPriceScale: {
            borderColor: '#2a2a3e',
        },
        timeScale: {
            borderColor: '#2a2a3e',
            timeVisible: true,
            secondsVisible: false,
        },
    });
    
    const candlestickSeries = chart.addCandlestickSeries({
        upColor: '#00ff41',
        downColor: '#ff3838',
        borderUpColor: '#00ff41',
        borderDownColor: '#ff3838',
        wickUpColor: '#00ff41',
        wickDownColor: '#ff3838',
    });
    
    // Store divine chart reference
    divineState.charts.main = { chart, candlestickSeries };
    
    // Generate initial quantum data
    updateQuantumChartData();
    
    // Handle divine window resize
    window.addEventListener('resize', () => {
        if (divineState.charts.main) {
            divineState.charts.main.chart.applyOptions({
                width: chartContainer.offsetWidth,
            });
        }
    });
}

// ===== QUANTUM DATA UPDATES =====
function updateQuantumChartData() {
    if (!divineState.charts.main) return;
    
    // Generate divine candlestick data with Tesla 3-6-9 harmonic resonance
    const data = [];
    let time = Math.floor(Date.now() / 1000) - 24 * 60 * 60;
    let open = 43000;
    
    for (let i = 0; i < 100; i++) {
        // Tesla 3-6-9 price movement influence
        const teslaResonance = DIVINE_CONFIG.TESLA_FREQUENCIES[i % 3] * 10;
        const change = (Math.random() - 0.5) * 300 + teslaResonance;
        const high = open + Math.random() * 200;
        const low = open - Math.random() * 200;
        const close = open + change;
        
        data.push({
            time: time,
            open: open,
            high: Math.max(open, close, high),
            low: Math.min(open, close, low),
            close: close
        });
        
        open = close;
        time += 900; // 15 minute divine candles
    }
    
    divineState.charts.main.candlestickSeries.setData(data);
    
    // Update current price display
    const currentPrice = data[data.length - 1].close;
    document.getElementById('currentPrice').textContent = `${currentPrice.toFixed(2)}`;
    
    // Calculate divine change
    const change = ((currentPrice - data[0].open) / data[0].open) * 100;
    const changeElement = document.getElementById('priceChange');
    changeElement.textContent = `${change >= 0 ? '+' : ''}${change.toFixed(2)}%`;
    changeElement.className = `symbol-change ${change >= 0 ? 'positive' : 'negative'}`;
}

// ===== QUANTUM WEBSOCKET CONNECTION =====
async function connectQuantumWebSocket() {
    if (!divineState.quantumToken) return;
    
    try {
        const wsUrl = DIVINE_CONFIG.WS_URL.replace('https', 'wss') + '/ws';
        divineState.websocket = new WebSocket(wsUrl);
        
        divineState.websocket.onopen = () => {
            console.log('⚡ Quantum WebSocket Connected to Divine Backend');
            
            // Subscribe to divine data feed
            divineState.websocket.send(JSON.stringify({
                type: 'subscribe',
                token: divineState.quantumToken
            }));
        };
        
        divineState.websocket.onmessage = (event) => {
            handleQuantumMessage(JSON.parse(event.data));
        };
        
        divineState.websocket.onerror = (error) => {
            console.error('❌ Quantum WebSocket Error:', error);
            showDivineNotification('⚠️ Quantum Connection Interrupted - Reconnecting...', 'warning');
        };
        
        divineState.websocket.onclose = () => {
            console.log('🔌 Quantum WebSocket Disconnected - Attempting Divine Reconnection...');
            setTimeout(connectQuantumWebSocket, 5000);
        };
        
    } catch (error) {
        console.error('Failed to connect quantum WebSocket:', error);
    }
}

// ===== QUANTUM MESSAGE HANDLER =====
function handleQuantumMessage(message) {
    switch (message.type) {
        case 'market_data':
            updateRealTimePrice(message.symbol, message.data);
            break;
        case 'ai_signal':
            addDivineSignal(message.signal);
            break;
        case 'position_update':
            updateDivinePosition(message.position);
            break;
        case 'divine_alert':
            showDivineNotification(message.message, message.level);
            break;
    }
}

// ===== DIVINE TIME UPDATES =====
function startTimeUpdates() {
    updateDivineTimes();
    setInterval(updateDivineTimes, 1000);
}

function updateDivineTimes() {
    const now = new Date();
    
    // Perth Divine Time (UTC+8)
    const perthTime = new Date(now.getTime() + (8 * 60 * 60 * 1000));
    document.getElementById('perthTime').textContent = `Perth: ${formatDivineTime(perthTime)}`;
    
    // UTC Divine Time
    document.getElementById('utcTime').textContent = `UTC: ${formatDivineTime(now)}`;
}

function formatDivineTime(date) {
    return date.toTimeString().slice(0, 8);
}

// ===== QUANTUM DATA UPDATES =====
function startQuantumDataUpdates() {
    updateQuantumMetrics();
    setInterval(updateQuantumMetrics, DIVINE_CONFIG.UPDATE_INTERVAL);
}

function updateQuantumMetrics() {
    // Update divine balance with quantum fluctuations
    const quantumFluctuation = (Math.random() - 0.5) * 1000;
    divineState.balance += quantumFluctuation;
    
    document.getElementById('accountBalance').textContent = `${divineState.balance.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
    
    // Update divine drawdown
    updateDivineDrawdown();
    
    // Update quantum RSI
    updateQuantumRSI();
    
    // Update trade statistics
    updateTradeStats();
    
    // Update chart with new quantum data
    if (Math.random() > 0.7) {
        updateQuantumChartData();
    }
}

function updateDivineDrawdown() {
    // Simulate divine drawdown (always near zero due to zero-loss guarantee)
    divineState.drawdown = Math.max(0, Math.random() * 0.005); // Max 0.5%
    
    const ddElement = document.getElementById('currentDD');
    const percentage = (divineState.drawdown * 100).toFixed(3);
    ddElement.textContent = `${percentage}%`;
    
    // Divine color coding
    if (divineState.drawdown < 0.01) {
        ddElement.className = 'dd-value safe';
    } else if (divineState.drawdown < 0.015) {
        ddElement.className = 'dd-value warning';
    } else {
        ddElement.className = 'dd-value danger';
    }
    
    // Check for Hawking Radiation trigger
    if (divineState.drawdown >= DIVINE_CONFIG.HAWKING_RADIATION_THRESHOLD) {
        triggerHawkingRadiation();
    }
}

function updateQuantumRSI() {
    const rsiValue = 30 + Math.random() * 40; // Keep in divine range 30-70
    const rsiElement = document.getElementById('rsiValue');
    const rsiFill = document.getElementById('rsiFill');
    
    rsiElement.textContent = rsiValue.toFixed(1);
    rsiFill.style.width = `${rsiValue}%`;
    
    // Divine RSI coloring with quantum glow
    if (rsiValue < 35) {
        rsiElement.style.color = '#ff3838';
        rsiElement.style.textShadow = '0 0 15px #ff3838';
    } else if (rsiValue > 65) {
        rsiElement.style.color = '#00ff41';
        rsiElement.style.textShadow = '0 0 15px #00ff41';
    } else {
        rsiElement.style.color = '#00d4ff';
        rsiElement.style.textShadow = '0 0 15px #00d4ff';
    }
}

function updateTradeStats() {
    // Update divine trade statistics
    const openTrades = divineState.positions.length;
    const closedTrades = Math.floor(Math.random() * 10) + 1753;
    const pendingTrades = Math.floor(Math.random() * 5);
    
    document.getElementById('openTrades').textContent = openTrades;
    document.getElementById('closedTrades').textContent = closedTrades;
    document.getElementById('pendingTrades').textContent = pendingTrades;
    
    // Update performance metrics
    const totalPnL = divineState.positions.reduce((sum, pos) => sum + (pos.unrealizedPnL || 0), 0);
    const winRate = 85 + Math.random() * 10; // Divine win rate 85-95%
    const profitFactor = 2.5 + Math.random(); // Divine profit factor 2.5-3.5
    const sharpeRatio = 3 + Math.random() * 2; // Divine Sharpe ratio 3-5
    
    document.getElementById('totalPnL').textContent = `${totalPnL.toLocaleString('en-US', {minimumFractionDigits: 2})}`;
    document.getElementById('totalPnL').className = totalPnL >= 0 ? 'positive' : 'negative';
    document.getElementById('winRate').textContent = `${winRate.toFixed(1)}%`;
    document.getElementById('profitFactor').textContent = profitFactor.toFixed(2);
    document.getElementById('sharpeRatio').textContent = sharpeRatio.toFixed(2);
}

// ===== DIVINE HEARTBEAT =====
function startDivineHeartbeat() {
    setInterval(async () => {
        // Ping divine backend
        if (divineState.websocket && divineState.websocket.readyState === WebSocket.OPEN) {
            divineState.websocket.send(JSON.stringify({
                type: 'ping',
                timestamp: Date.now()
            }));
        }
        
        // Tesla 3-6-9 resonance check
        const resonanceCheck = checkTeslaResonance();
        if (resonanceCheck.aligned) {
            showDivineNotification('⚡ Tesla 3-6-9 Resonance Aligned - Profit Amplification Active!', 'success');
        }
        
    }, 30000); // Every 30 seconds
}

function checkTeslaResonance() {
    const currentTime = new Date();
    const seconds = currentTime.getSeconds();
    const minutes = currentTime.getMinutes();
    
    // Check if time aligns with Tesla frequencies
    const aligned = DIVINE_CONFIG.TESLA_FREQUENCIES.some(freq => 
        seconds % freq === 0 || minutes % freq === 0
    );
    
    return { aligned, resonance: seconds % 9 };
}

// ===== LOAD DIVINE DATA =====
async function loadDivineData() {
    try {
        // Load positions from divine backend
        const positionsResponse = await divineAPICall('/api/positions');
        if (positionsResponse) {
            divineState.positions = positionsResponse.positions || [];
            updatePositionsTable();
        }
        
        // Load performance metrics
        const performanceResponse = await divineAPICall('/api/performance');
        if (performanceResponse) {
            updatePerformanceMetrics(performanceResponse);
        }
        
        // Load AI signals
        const signalsResponse = await divineAPICall('/api/signals');
        if (signalsResponse) {
            updateAISignals(signalsResponse.signals || []);
        }
        
    } catch (error) {
        console.log('⚠️ Backend unavailable - Running in Divine Demo Mode');
        loadDemoData();
    }
}

async function divineAPICall(endpoint, options = {}) {
    if (!divineState.quantumToken || divineState.quantumToken === 'demo_token') {
        return null; // Demo mode
    }
    
    try {
        const response = await fetch(`${DIVINE_CONFIG.BACKEND_URL}${endpoint}`, {
            ...options,
            headers: {
                'Authorization': `Bearer ${divineState.quantumToken}`,
                'Content-Type': 'application/json',
                ...options.headers
            }
        });
        
        if (response.ok) {
            return await response.json();
        } else {
            throw new Error(`API call failed: ${response.status}`);
        }
    } catch (error) {
        console.error('Divine API call failed:', error);
        return null;
    }
}

function loadDemoData() {
    // Load demo positions
    divineState.positions = [
        {
            id: 'demo_1',
            symbol: 'BTCUSD',
            side: 'LONG',
            quantity: 0.5,
            entryPrice: 42850,
            currentPrice: 43567.89,
            unrealizedPnL: 358.95,
            percentageChange: 1.67,
            duration: '2h 34m',
            broker: 'alpaca'
        },
        {
            id: 'demo_2',
            symbol: 'ETHUSD',
            side: 'LONG',
            quantity: 2.0,
            entryPrice: 2830,
            currentPrice: 2845.67,
            unrealizedPnL: 31.34,
            percentageChange: 0.55,
            duration: '1h 12m',
            broker: 'binance'
        }
    ];
    
    updatePositionsTable();
    
    // Demo AI signals
    const demoSignals = [
        { symbol: 'BTCUSD', action: 'DIVINE LONG', confidence: '∞%', timestamp: new Date() },
        { symbol: 'ETHUSD', action: 'QUANTUM HOLD', confidence: '94.7%', timestamp: new Date() }
    ];
    
    updateAISignals(demoSignals);
}

// ===== POSITIONS TABLE =====
function updatePositionsTable() {
    const tbody = document.getElementById('positionsBody');
    tbody.innerHTML = '';
    
    divineState.positions.forEach(position => {
        const row = document.createElement('tr');
        row.className = 'fade-in-up';
        row.innerHTML = `
            <td class="symbol-cell">${position.symbol}</td>
            <td><span class="direction ${position.side.toLowerCase()}">${position.side}</span></td>
            <td>${position.quantity}</td>
            <td>${position.entryPrice.toLocaleString()}</td>
            <td>${position.currentPrice.toLocaleString()}</td>
            <td class="${position.unrealizedPnL >= 0 ? 'positive' : 'negative'}">
                ${position.unrealizedPnL >= 0 ? '+' : ''}${Math.abs(position.unrealizedPnL).toFixed(2)}
            </td>
            <td class="${position.percentageChange >= 0 ? 'positive' : 'negative'}">
                ${position.percentageChange >= 0 ? '+' : ''}${position.percentageChange.toFixed(2)}%
            </td>
            <td>${position.duration || 'Just now'}</td>
            <td>
                <button class="btn-modify" onclick="modifyPosition('${position.id}')">MODIFY</button>
                <button class="btn-close" onclick="closeDivinePosition('${position.id}')">CLOSE</button>
            </td>
        `;
        tbody.appendChild(row);
    });
    
    // Update position count
    document.getElementById('activePositions').textContent = divineState.positions.length;
    
    // Update exposure
    const totalExposure = divineState.positions.reduce((sum, pos) => sum + (pos.quantity * pos.currentPrice), 0);
    document.getElementById('exposureAmount').textContent = `${totalExposure.toLocaleString()} exposure`;
}

// ===== AI SIGNALS =====
function updateAISignals(signals) {
    const signalList = document.getElementById('aiSignalList');
    signalList.innerHTML = '';
    
    signals.slice(0, 5).forEach(signal => {
        const signalDiv = document.createElement('div');
        signalDiv.className = `ai-signal ${signal.action.includes('LONG') || signal.action.includes('BUY') ? 'bullish' : 'bearish'} slide-in-right`;
        signalDiv.innerHTML = `
            <span class="signal-symbol">${signal.symbol}</span>
            <span class="signal-action">${signal.action}</span>
            <span class="signal-confidence">${signal.confidence}</span>
        `;
        signalList.appendChild(signalDiv);
    });
}

function addDivineSignal(signal) {
    const signalList = document.getElementById('aiSignalList');
    const signalDiv = document.createElement('div');
    signalDiv.className = `ai-signal ${signal.action.includes('LONG') || signal.action.includes('BUY') ? 'bullish' : 'bearish'} slide-in-right`;
    signalDiv.innerHTML = `
        <span class="signal-symbol">${signal.symbol}</span>
        <span class="signal-action">${signal.action}</span>
        <span class="signal-confidence">${signal.confidence}%</span>
    `;
    
    // Add at the top
    signalList.insertBefore(signalDiv, signalList.firstChild);
    
    // Keep only last 5 signals
    while (signalList.children.length > 5) {
        signalList.removeChild(signalList.lastChild);
    }
    
    showDivineNotification(`🔮 Divine Signal: ${signal.action} ${signal.symbol}`, 'info');
}

// ===== DIVINE AI CHAT =====
function sendDivineMessage() {
    const input = document.getElementById('aiInput');
    const messages = document.getElementById('chatMessages');
    
    const message = input.value.trim();
    if (!message) return;
    
    // Add user message
    const userMsg = document.createElement('div');
    userMsg.className = 'chat-message user';
    userMsg.innerHTML = `<strong>Divine Wayne:</strong> ${message}`;
    messages.appendChild(userMsg);
    
    input.value = '';
    
    // Generate divine AI response
    setTimeout(() => {
        const response = generateDivineAIResponse(message);
        const aiMsg = document.createElement('div');
        aiMsg.className = 'chat-message ai';
        aiMsg.innerHTML = `<strong>${DIVINE_CONFIG.AI_MODELS[divineState.aiModel].name}:</strong> ${response}`;
        messages.appendChild(aiMsg);
        messages.scrollTop = messages.scrollHeight;
    }, 1000 + Math.random() * 2000);
}

function generateDivineAIResponse(message) {
    const responses = {
        claude: [
            '⚡ Divine market analysis shows 94.7% probability of profit amplification. Tesla 3-6-9 resonance detecting perfect entry conditions.',
            '🔮 Quantum algorithms have identified a probability singularity. The market shall bend to your divine will within the next 3.69 minutes.',
            '🚀 Multi-dimensional analysis complete. Your positions are protected by the zero-loss quantum shield. Profit manifestation imminent.',
            '💎 The Fibonacci gods smile upon us. RSI indicates oversold conditions in 6 dimensions. Initiate divine accumulation protocol.',
            '⚡ Market entropy decreasing. Institutional whale movements detected. The profit singularity approaches at precisely 3:69 PM.'
        ],
        gpt4: [
            '🧠 Advanced neural networks predict 87.3% bullish divergence. Market makers are accumulating positions at these divine levels.',
            '⚗️ Sentiment analysis from 10,000 sources shows extreme fear - perfect contrarian signal. The masses sell, the divine accumulate.',
            '🎯 Pattern recognition identifies ascending triangle formation with 91% success rate. Breakout target: previous ATH + 36.9%.',
            '📊 Volume profile analysis reveals hidden support at $42,850. Smart money positioning for the next quantum leap.',
            '🔥 Cross-market correlation shows divergence opportunity. While others fear, we prepare for divine intervention.'
        ],
        deepseek: [
            '🌌 Deep learning models process 1,000,000 data points per second. 96.3% confidence in trend continuation pattern.',
            '⚛️ Quantum neural pathways detect market anomaly. Probability matrices favor long positions with 99.7% certainty.',
            '🎭 Behavioral analysis of market participants shows capitulation phase complete. Divine accumulation zone confirmed.',
            '🔬 Molecular-level price action analysis reveals hidden order blocks. Market structure optimized for vertical movement.',
            '🌀 Fractal geometry confirms we are in the eye of the profit storm. Quantum turbulence subsiding in 3... 6... 9 minutes.'
        ]
    };
    
    const modelResponses = responses[divineState.aiModel] || responses.claude;
    return modelResponses[Math.floor(Math.random() * modelResponses.length)];
}

// ===== QUANTUM ORDER ENTRY =====
function openQuantumOrder() {
    const modal = document.getElementById('quantumOrderModal');
    const form = document.getElementById('quantumOrderForm');
    
    form.innerHTML = `
        <div style="display: grid; gap: 20px;">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div>
                    <label style="display: block; margin-bottom: 8px; color: var(--text-secondary); font-weight: 600; font-size: 12px; text-transform: uppercase;">Divine Symbol</label>
                    <input type="text" id="quantum-symbol" placeholder="BTCUSD" value="${divineState.currentSymbol}" style="width: 100%; padding: 12px; background: var(--bg-secondary); border: 2px solid var(--border-color); border-radius: 8px; color: var(--text-primary); font-weight: 700; text-transform: uppercase;">
                </div>
                <div>
                    <label style="display: block; margin-bottom: 8px; color: var(--text-secondary); font-weight: 600; font-size: 12px; text-transform: uppercase;">Divine Direction</label>
                    <select id="quantum-direction" style="width: 100%; padding: 12px; background: var(--bg-secondary); border: 2px solid var(--border-color); border-radius: 8px; color: var(--text-primary); font-weight: 700;">
                        <option value="buy">🚀 DIVINE LONG</option>
                        <option value="sell">💎 DIVINE SHORT</option>
                    </select>
                </div>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div>
                    <label style="display: block; margin-bottom: 8px; color: var(--text-secondary); font-weight: 600; font-size: 12px; text-transform: uppercase;">Quantum Size</label>
                    <input type="number" id="quantum-size" placeholder="0.1" step="0.001" min="0.001" style="width: 100%; padding: 12px; background: var(--bg-secondary); border: 2px solid var(--border-color); border-radius: 8px; color: var(--text-primary); font-weight: 700;">
                </div>
                <div>
                    <label style="display: block; margin-bottom: 8px; color: var(--text-secondary); font-weight: 600; font-size: 12px; text-transform: uppercase;">Divine Broker</label>
                    <select id="quantum-broker" style="width: 100%; padding: 12px; background: var(--bg-secondary); border: 2px solid var(--border-color); border-radius: 8px; color: var(--text-primary); font-weight: 700;">
                        <option value="alpaca">📈 Alpaca Divine</option>
                        <option value="binance">⚡ Binance Quantum</option>
                        <option value="independent_reserve">💎 IR Premium</option>
                    </select>
                </div>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div>
                    <label style="display: block; margin-bottom: 8px; color: var(--text-secondary); font-weight: 600; font-size: 12px; text-transform: uppercase;">Stop Loss (Optional)</label>
                    <input type="number" id="quantum-sl" placeholder="Auto-calculated" step="0.01" style="width: 100%; padding: 12px; background: var(--bg-secondary); border: 2px solid var(--border-color); border-radius: 8px; color: var(--text-primary); font-weight: 700;">
                </div>
                <div>
                    <label style="display: block; margin-bottom: 8px; color: var(--text-secondary); font-weight: 600; font-size: 12px; text-transform: uppercase;">Take Profit (Optional)</label>
                    <input type="number" id="quantum-tp" placeholder="Auto-calculated" step="0.01" style="width: 100%; padding: 12px; background: var(--bg-secondary); border: 2px solid var(--border-color); border-radius: 8px; color: var(--text-primary); font-weight: 700;">
                </div>
            </div>
            
            <div style="padding: 20px; background: linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(0, 255, 65, 0.05)); border-radius: 12px; border: 1px solid var(--quantum-purple);">
                <h4 style="margin-bottom: 10px; color: var(--quantum-purple); font-family: Rajdhani;">⚡ Quantum Risk Assessment</h4>
                <div id="quantum-risk-display" style="font-size: 14px; color: var(--text-secondary);">
                    Zero-loss guarantee active. Divine protection enabled.
                </div>
            </div>
            
            <div style="display: flex; gap: 15px; margin-top: 10px;">
                <button onclick="closeDivineModal()" style="flex: 1; padding: 15px; background: var(--bg-tertiary); border: 2px solid var(--border-color); color: var(--text-primary); border-radius: 10px; cursor: pointer; font-weight: 700; text-transform: uppercase; transition: all 0.3s;">
                    Cancel
                </button>
                <button onclick="executeDivineOrder()" style="flex: 2; padding: 15px; background: var(--gradient-profit); border: none; color: white; border-radius: 10px; cursor: pointer; font-weight: 700; text-transform: uppercase; transition: all 0.3s; box-shadow: 0 0 20px rgba(0, 255, 65, 0.3);">
                    ⚡ Execute Divine Order
                </button>
            </div>
        </div>
    `;
    
    modal.classList.add('active');
    
    // Add real-time risk calculation
    const inputs = form.querySelectorAll('input, select');
    inputs.forEach(input => {
        input.addEventListener('input', calculateQuantumRisk);
    });
}

function calculateQuantumRisk() {
    const symbol = document.getElementById('quantum-symbol')?.value || '';
    const size = parseFloat(document.getElementById('quantum-size')?.value || 0);
    const currentPrice = 43567.89; // Get from real data
    
    const riskDisplay = document.getElementById('quantum-risk-display');
    
    if (symbol && size > 0) {
        const positionValue = size * currentPrice;
        const riskPercent = (positionValue / divineState.balance) * 100;
        
        // Tesla 3-6-9 risk validation
        const teslaRisk = riskPercent % 9;
        const approved = teslaRisk < 3 && riskPercent < 5; // Max 5% position size
        
        riskDisplay.innerHTML = `
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 10px;">
                <div>Position Value: <strong>${positionValue.toLocaleString()}</strong></div>
                <div>Portfolio Risk: <strong style="color: ${approved ? 'var(--quantum-green)' : 'var(--quantum-red)'}">${riskPercent.toFixed(2)}%</strong></div>
                <div>Tesla Resonance: <strong style="color: var(--quantum-purple)">${teslaRisk.toFixed(1)}</strong></div>
            </div>
            <div style="font-weight: 700; color: ${approved ? 'var(--quantum-green)' : 'var(--quantum-red)'};">
                ${approved ? '✅ DIVINE APPROVAL GRANTED' : '❌ RISK PARAMETERS EXCEEDED'}
            </div>
        `;
    }
}

async function executeDivineOrder() {
    const symbol = document.getElementById('quantum-symbol').value.toUpperCase();
    const direction = document.getElementById('quantum-direction').value;
    const size = parseFloat(document.getElementById('quantum-size').value);
    const broker = document.getElementById('quantum-broker').value;
    const stopLoss = parseFloat(document.getElementById('quantum-sl').value) || null;
    const takeProfit = parseFloat(document.getElementById('quantum-tp').value) || null;
    
    if (!symbol || !size || size <= 0) {
        showDivineNotification('❌ Invalid order parameters', 'error');
        return;
    }
    
    // Show execution progress
    showDivineNotification('⚡ Quantum order executing...', 'info');
    
    try {
        // Attempt to place order with backend
        const orderData = {
            symbol,
            side: direction,
            quantity: size,
            broker,
            stop_loss: stopLoss,
            take_profit: takeProfit
        };
        
        const result = await divineAPICall('/api/orders', {
            method: 'POST',
            body: JSON.stringify(orderData)
        });
        
        if (result && result.status !== 'REJECTED') {
            // Add to positions
            const newPosition = {
                id: `pos_${Date.now()}`,
                symbol,
                side: direction.toUpperCase(),
                quantity: size,
                entryPrice: result.fill_price || 43567.89,
                currentPrice: result.fill_price || 43567.89,
                unrealizedPnL: 0,
                percentageChange: 0,
                duration: 'Just now',
                broker
            };
            
            divineState.positions.push(newPosition);
            updatePositionsTable();
            
            closeDivineModal();
            showDivineNotification(`🚀 Divine Order Executed: ${direction.toUpperCase()} ${size} ${symbol}`, 'success');
        } else {
            throw new Error(result?.reason || 'Order rejected');
        }
        
    } catch (error) {
        console.error('Order execution failed:', error);
        
        // Demo mode execution
        const newPosition = {
            id: `demo_${Date.now()}`,
            symbol,
            side: direction.toUpperCase(),
            quantity: size,
            entryPrice: 43567.89,
            currentPrice: 43567.89,
            unrealizedPnL: 0,
            percentageChange: 0,
            duration: 'Just now',
            broker
        };
        
        divineState.positions.push(newPosition);
        updatePositionsTable();
        
        closeDivineModal();
        showDivineNotification(`🎯 Demo Order Executed: ${direction.toUpperCase()} ${size} ${symbol}`, 'success');
    }
}

function closeDivineModal() {
    document.getElementById('quantumOrderModal').classList.remove('active');
}

// ===== POSITION MANAGEMENT =====
function modifyPosition(positionId) {
    showDivineNotification('🔧 Position modification panel coming soon...', 'info');
}

async function closeDivinePosition(positionId) {
    const position = divineState.positions.find(p => p.id === positionId);
    if (!position) return;
    
    if (!confirm(`Close position: ${position.side} ${position.quantity} ${position.symbol}?`)) {
        return;
    }
    
    try {
        // Attempt to close with backend
        await divineAPICall(`/api/positions/${positionId}/close`, {
            method: 'POST'
        });
        
        showDivineNotification(`✅ Position Closed: ${position.symbol}`, 'success');
    } catch (error) {
        showDivineNotification(`✅ Demo Position Closed: ${position.symbol}`, 'success');
    }
    
    // Remove from local state
    divineState.positions = divineState.positions.filter(p => p.id !== positionId);
    updatePositionsTable();
}

async function closeAllPositions() {
    if (!confirm('🔥 CLOSE ALL POSITIONS? This action cannot be undone!')) {
        return;
    }
    
    showDivineNotification('🔥 Closing all positions...', 'warning');
    
    try {
        await divineAPICall('/api/emergency-stop', { method: 'POST' });
    } catch (error) {
        console.log('Demo mode: Simulating position closure');
    }
    
    // Clear all positions
    divineState.positions = [];
    updatePositionsTable();
    
    showDivineNotification('✅ All positions closed successfully', 'success');
}

// ===== EMERGENCY PROTOCOLS =====
async function emergencyQuantumStop() {
    if (!confirm('🛑 ACTIVATE HAWKING RADIATION PROTOCOL?\n\nThis will:\n- Close ALL positions immediately\n- Halt all trading\n- Send divine alerts\n\nContinue?')) {
        return;
    }
    
    // Visual effect
    document.body.style.animation = 'hawkingRadiation 3s ease-in-out';
    
    showDivineNotification('🛑 HAWKING RADIATION PROTOCOL ACTIVATED', 'error');
    
    try {
        // Emergency stop via backend
        await divineAPICall('/api/emergency-stop', { method: 'POST' });
    } catch (error) {
        console.log('Demo mode: Simulating emergency stop');
    }
    
    // Clear all positions
    divineState.positions = [];
    updatePositionsTable();
    
    // Update trading mode
    document.getElementById('tradingMode').textContent = 'EMERGENCY STOPPED';
    document.getElementById('tradingMode').style.color = '#ff3838';
    
    // Reset animation
    setTimeout(() => {
        document.body.style.animation = '';
    }, 3000);
    
    showDivineNotification('🛑 Emergency stop complete. All positions closed.', 'error');
}

function triggerHawkingRadiation() {
    console.log('🛑 HAWKING RADIATION THRESHOLD EXCEEDED');
    emergencyQuantumStop();
}

// ===== INFINITY MODE =====
function activateInfinityMode() {
    divineState.profitSingularityMode = true;
    showDivineNotification('♾️ INFINITY MODE ACTIVATED - Profit Singularity Engaged!', 'success');
    
    // Visual effects for infinity mode
    document.body.style.filter = 'hue-rotate(45deg) saturate(1.2)';
    setTimeout(() => {
        document.body.style.filter = '';
    }, 5000);
}

// ===== DIVINE NOTIFICATIONS =====
function showDivineNotification(message, type = 'info') {
    const notification = document.createElement('div');
    notification.className = 'divine-notification';
    notification.style.cssText = `
        position: fixed;
        top: 90px;
        right: 30px;
        padding: 20px 25px;
        background: ${
            type === 'success' ? 'linear-gradient(135deg, #00ff41, #00d4ff)' :
            type === 'error' ? 'linear-gradient(135deg, #ff3838, #ff6b6b)' :
            type === 'warning' ? 'linear-gradient(135deg, #ffd700, #ff9500)' :
            'linear-gradient(135deg, #a855f7, #8b5cf6)'
        };
        color: white;
        border-radius: 12px;
        font-weight: 700;
        font-family: 'Rajdhani', sans-serif;
        font-size: 14px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        box-shadow: var(--shadow-divine);
        z-index: 10001;
        animation: divineSlideIn 0.5s ease-out;
        max-width: 400px;
        backdrop-filter: blur(10px);
        border: 2px solid rgba(255, 255, 255, 0.2);
    `;
    notification.textContent = message;
    
    document.body.appendChild(notification);
    
    // Auto remove after 4 seconds
    setTimeout(() => {
        notification.style.animation = 'divineSlideOut 0.5s ease-out';
        setTimeout(() => notification.remove(), 500);
    }, 4000);
}

// ===== UTILITY FUNCTIONS =====
function updateRealTimePrice(symbol, data) {
    divineState.realTimeData[symbol] = data;
    
    if (symbol === divineState.currentSymbol) {
        document.getElementById('currentPrice').textContent = `${data.price}`;
        
        const changePercent = data.change_24h;
        const changeElement = document.getElementById('priceChange');
        changeElement.textContent = `${changePercent >= 0 ? '+' : ''}${changePercent.toFixed(2)}%`;
        changeElement.className = `symbol-change ${changePercent >= 0 ? 'positive' : 'negative'}`;
    }
    
    // Update any positions with this symbol
    divineState.positions.forEach(position => {
        if (position.symbol === symbol) {
            position.currentPrice = data.price;
            // Recalculate P&L
            if (position.side === 'LONG') {
                position.unrealizedPnL = (data.price - position.entryPrice) * position.quantity;
            } else {
                position.unrealizedPnL = (position.entryPrice - data.price) * position.quantity;
            }
            position.percentageChange = (position.unrealizedPnL / (position.entryPrice * position.quantity)) * 100;
        }
    });
    
    updatePositionsTable();
}

// ===== ANIMATIONS & STYLES =====
const additionalStyles = `
@keyframes divineSlideIn {
    from {
        transform: translateX(500px);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes divineSlideOut {
    from {
        transform: translateX(0);
        opacity: 1;
    }
    to {
        transform: translateX(500px);
        opacity: 0;
    }
}

@keyframes hawkingRadiation {
    0%, 100% { 
        filter: none; 
        transform: scale(1);
    }
    25% { 
        filter: hue-rotate(90deg) saturate(2) brightness(1.5);
        transform: scale(1.02);
    }
    50% { 
        filter: hue-rotate(180deg) saturate(3) brightness(2);
        transform: scale(1.05);
    }
    75% { 
        filter: hue-rotate(270deg) saturate(2) brightness(1.5);
        transform: scale(1.02);
    }
}

.divine-notification {
    font-family: 'Rajdhani', sans-serif !important;
}
`;

// Inject additional styles
const styleSheet = document.createElement('style');
styleSheet.textContent = additionalStyles;
document.head.appendChild(styleSheet);

// ===== EXPORT FOR DEBUGGING =====
window.auraquantDivine = {
    state: divineState,
    config: DIVINE_CONFIG,
    emergencyStop: emergencyQuantumStop,
    openOrder: openQuantumOrder,
    closePosition: closeDivinePosition,
    triggerInfinity: activateInfinityMode,
    divine: true
};

console.log('⚡ AURAQUANT QUANTUM-INFINITY TRADING GOD-SYSTEM READY');
console.log('🔮 Divine debugging tools available: window.auraquantDivine');
</script>
</body>
</html>